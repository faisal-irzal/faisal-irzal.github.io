---
layout: post
title: Best Places to Live in Rotterdam
image: "/posts/Rotterdam-GettyImages.jpg"
tags: [Python, Foursquare API, Geoencoder, KMeans]
---

This is basically the Capstone Project I developed in December 2020 as requirement to get the IBM Data Science Professional Certificate on Coursera, the program which has provided me a strong foundation to pivot to Data Science field. The subject is so dear to me due to many reasons. Not only because Rotterdam is one of my favorite's city in the world; the people, the vibe, the architecture; but also the concerns we have in the society about how difficult it is to find to best place to live in the hustle-bustle of big cities. This project I hope will shine a light to young professionals with limited budget who want to find the best place to call it a home in the-what-so-called, *the Manhattan at the Meuse*.

Let's get into it!

---

### Introduction: Business Problem 

Rotterdam is well-known as a major logistic and economic center and has Europe's largest seaport. It is the 2nd largest city and minicipality in The Netherlands. With a population of more than 650,000 living in an area of 324 km2, Rotterdam is known for its university, riverside setting, lively culture life, maritime heritage and modern culture, and not to forget, it is a home to over 180 nationalities [1].

Having a plan to look for real estate in Rotterdam, I decided to analyse Rotterdam for this project. I am particularly interested in having the knowledge of where the best place to live in this city. In my opinion, the best place to live can be defined as the neighborhood which:

1. is residential area surrounded by nature, e.g. park, forest, lake
2. is within reach to daily essential places e.g. market places, pharmacies, public transport
3. lower population density; area with high population density is perceived low safety and environmental quality
4. affordable housing price; price should be affordable for young families to get mortgage to finance the house
5. more modern houses; assume that old houses might require renovation hence increase the cost

The above points will from now on be referred as the **Criteria**. I understood that the criteria above may not reflect bigger population. However, in my opinion, the above categories could fit the stakeholders who just start their professional career.

This assignment will showcase data science tools and knowledge I have gained to generate a few most promising neighborhoods based on the above criteria. Advantages of each area will then be clearly expressed so that best possible final location can be chosen by stakeholders.

---

### Data Acquisition, Cleaning and Preparation
Based on definition of the problem, factors that may influence stakeholder's decision are:

* location
* population density
* average house price
* age of the house

The following data sources were referred to extract and generate the required information:

* list of neighborhoods in Rotterdam, its population density, age of houses in the area and the average house prices can be obtained from PDOK, a data platform for accessing geo data sets of Dutch governments [2]
* number of venues, their type and location in every neighborhood will be obtained using Foursquare API
* geospatial coordinate of neighborhoods in Rotterdam will be obtained by using Geocoder Python package

The search results I managed to collect in total of 93 rows (which describe neighborhoods of Rotterdam) and 147 columns (which describe features) of the raw dataset. The raw dataset consists of uninhabitated or industrial neighborhoods, many interdependent features, unrelated features as well as missing values. Therefore data cleaning was imperative. After cleaning the raw data, I ended up with dataset with 75 rows and 8 columns.

Furthermore, having the location coordinates generated by Geocoder, I utilized Foursquare API to get info on venues existing in each neighborhood. Here, the Foursquare API is utilized to explore the neighborhoods and to segment them. The limit of 100 venues within the radius of 750m is set for each neigborhood from the received geospatial coordinates information. Table below shows example of the list venue names, venue categories, and their subsequent latitude and longitude information received from **one** inquiry we made for **one** neighborhood in Foursquare API. 

| | **name**                | **category**  | **latitude**  | **longitude**     |
| | :---                    |    :----:     |         ---:  |       ---:        |
|0|	Ani & Haakien	          | Hostel        |	51.921551	    | 4.465684          |
|1|	Miniworld Rotterdam	    | Museum	      | 51.922658	    | 4.464797          |
|2|	Madera House	Moroccan  | Restaurant	  | 51.919806	    | 4.465556          |
|3|	Lebkov & Sons Rotterdam	|Sandwich Place	| 51.923679	    | 4.469122          |
|4|	De IJssalon	            | Ice Cream Shop|	51.920172	    | 4.467403          |

Foursquare API provided me the opportunity to know about the venue category of each neighborhood in Rotterdam. The Foursquare API inquiry results return 2611 venues for all 75 neighborhoods in Rotterdam. The total number of venues would be reduced by selecting the venue categories which match the criteria above, i.e.:

* venues that are located in residential area surrounded by nature, e.g. park, forest, lake
* venues that are within reach to daily essential places e.g. market places, pharmacies, public transport etc.

Taking into account the points above, the total number of selected venues in the neighborhoods is reduced to 357. Total number of venues in neighborhoods that mached our criteria can be visualized as per below barchart.

![BarChart](/img/posts/NmbrVenues.jpg "BarChart")

The above bar chart shows that some of the neighborhoods such Spangen, Tussendijken and Hillegersberg Noord return higher numbers of selected venues in the given geospatial coordinates. That means these neighborhoods may match our selected categories.

The result may reflect all the possible venues in the neighborhoods captured by Foursquare. The results, oboviously, heavily depends on the information given by the Foursquare users including its geospatial coordinates of latitude and longitude. In this case, for given latitude and longitude of a neighborhood, the system will try to find venues within 750m-vicinity of the neighborhood. Depending on the distance between neighborhoods, one venue may be included in more neighborhoods.

Having said that, all data is loaded into a data frame and ready to be analysed.

---

### Data Analysis

Clustering analysis has been performed on the dataset. Here, neighborhoods of Rotterdam will be partitioned into subsets that have similar characteristics. One of the algorithms that can be used for clustering is K-Means method. This method can group data based on the similarity of the objects to each other within the dataset. By selecting the criteria to be used as clusters, the optimum choice of cluster *k* can be achieved by using K-Elbow method as seen below graph.

![K-Elbow](/img/posts/K-Elbow.jpg "K-Elbow")

From above graph we observed that optimum k is 3. By setting k=3, the label of each neighborhood is calculated and analysed. 

#### Population Density

![PopDens](/img/posts/podens.jpg "Population Density")

From above image we observed the following:
* Neighborhoods around Rotterdam Central Station and high streets of Rotterdam are densely populated
* South and North East Rotterdam neighborhoods have moderate population
* Neighborhoods along the Rotter river and at the vicinity of the harbor have low population due to designated industrial area

#### Percentage of New Buildings

![NewBuild](/img/posts/newbild.jpg "Percentage of New Buildings")

From above image we observed the following:
* New residential buildings are concentrated in few areas in the north east of Rotterdam
* Moderate numbers of new buildings are spread in the center of Rotterdam

#### Average Housing Price

![HousePrice](/img/posts/houseprice.jpg "Average Housing Price")

From above image we observed the following:
* Hig price houses are located in the north of Rotterdam; places surrounded by nature (i.e. forest lake)
* Low price houses are located along the canal and at the vicinity of the harbor due to industrial area / non-residential areas

#### Venue Types in Neighborhoods

![VenueTypes](/img/posts/venuetype.jpg "Venue Types in Neighborhoods")

From above image we observed the following:
* Cluster 0
  - Rotterdam busiest neighborhoods where highstreets of Rotterdam are located with lots of available daily essential stores
  - Easy access to public transport
  - Typically not surrounded by nature

* Cluster 1
  - Rotterdam residential areas with available daily essential stores within reach of the houses
  - Easy access to public transport
  - Moderately surrounded by nature
 
* Cluster 2
  - Rotterdam residential areas quite far from hustle-bustle areas with moderate number of daily essential stores
  - Less access to public transport
  - Surrounded by nature

---

### Results & Conclusion

* Data have been acquired to build a guideline of finding best neighborhoods to live in Rotterdam
* Criteria have been set for the neighborhood selection
* Cluster analysis has been conducted to analyze neighborhoods based on the selection criteria (location, population density, average house price, percentage of new houses in the area)
* From the analysis we conclude that neighborhoods in Cluster 2 may be the best fit for the given criteria because:
  - affordable house price
  - moderate availability of new building
  - not that densely populated
  - close vicinity to nature
* Neighborhoodâ€™s examples from Cluster 2 are Hillegersberg Zuid, Agniesebuurt and Oosterflank.

### References 

* [1] https://en.wikipedia.org/wiki/Rotterdam
* [2] https://www.pdok.nl/datasets

